<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Weapons Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<!-- ================================ Adds stuff to the Deserter Store ====================== -->
				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="VWE_Gun_ChargePistol"]</xpath>
					<value>
						<li Class="VFED.ContrabandExtension">
							<category>VFED_Imperial</category>
							<intelCost>4</intelCost>
							<useCriticalIntel>false</useCriticalIntel>
						</li>
					</value>
				</li>
				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="VWE_Gun_ChargeShotgun"]</xpath>
					<value>
						<li Class="VFED.ContrabandExtension">
							<category>VFED_Imperial</category>
							<intelCost>7</intelCost>
							<useCriticalIntel>false</useCriticalIntel>
						</li>
					</value>
				</li>
				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="VWE_Gun_ChargeSMG"]</xpath>
					<value>
						<li Class="VFED.ContrabandExtension">
							<category>VFED_Imperial</category>
							<intelCost>7</intelCost>
							<useCriticalIntel>false</useCriticalIntel>
						</li>
					</value>
				</li>
				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="VWE_Gun_ChargeLMG"]</xpath>
					<value>
						<li Class="VFED.ContrabandExtension">
							<category>VFED_Imperial</category>
							<intelCost>13</intelCost>
							<useCriticalIntel>false</useCriticalIntel>
						</li>
					</value>
				</li>
        <li Class="PatchOperationAddModExtension">
          <xpath>Defs/ThingDef[defName="VWE_Gun_ChargeSniperRifle"]</xpath>
          <value>
            <li Class="VFED.ContrabandExtension">
              <category>VFED_Imperial</category>
              <intelCost>16</intelCost>
              <useCriticalIntel>false</useCriticalIntel>
            </li>
          </value>
        </li>
				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="VWE_Gun_ChargeMinigun"]</xpath>
					<value>
						<li Class="VFED.ContrabandExtension">
							<category>VFED_Imperial</category>
							<intelCost>18</intelCost>
							<useCriticalIntel>false</useCriticalIntel>
						</li>
					</value>
				</li>

        <!-- Unique weapons -->
        <li Class="PatchOperationFindMod">
          <mods>
            <li>Odyssey</li>
          </mods>
          <match Class="PatchOperationSequence">
            <operations>
              <!-- ================================ Adds stuff to the Deserter Store ====================== -->
              <li Class="PatchOperationAddModExtension">
                <xpath>Defs/ThingDef[defName="VWE_Gun_ChargePistol_Unique"]</xpath>
                <value>
                  <li Class="VFED.ContrabandExtension">
                    <intelCost>1</intelCost>
                    <useCriticalIntel>true</useCriticalIntel>
                    <!-- We inherit the defModExtension from the parent def, so we set a higher priority here to override the base one. -->
                    <priority>100</priority>
                  </li>
                </value>
              </li>
              <li Class="PatchOperationAddModExtension">
                <xpath>Defs/ThingDef[defName="VWE_Gun_ChargeShotgun_Unique"]</xpath>
                <value>
                  <li Class="VFED.ContrabandExtension">
                    <intelCost>2</intelCost>
                    <useCriticalIntel>true</useCriticalIntel>
                    <!-- We inherit the defModExtension from the parent def, so we set a higher priority here to override the base one. -->
                    <priority>100</priority>
                  </li>
                </value>
              </li>
              <li Class="PatchOperationAddModExtension">
                <xpath>Defs/ThingDef[defName="VWE_Gun_ChargeSMG_Unique"]</xpath>
                <value>
                  <li Class="VFED.ContrabandExtension">
                    <intelCost>2</intelCost>
                    <useCriticalIntel>true</useCriticalIntel>
                    <!-- We inherit the defModExtension from the parent def, so we set a higher priority here to override the base one. -->
                    <priority>100</priority>
                  </li>
                </value>
              </li>
              <li Class="PatchOperationAddModExtension">
                <xpath>Defs/ThingDef[defName="VWE_Gun_ChargeLMG_Unique"]</xpath>
                <value>
                  <li Class="VFED.ContrabandExtension">
                    <intelCost>3</intelCost>
                    <useCriticalIntel>true</useCriticalIntel>
                    <!-- We inherit the defModExtension from the parent def, so we set a higher priority here to override the base one. -->
                    <priority>100</priority>
                  </li>
                </value>
              </li>
              <li Class="PatchOperationAddModExtension">
                <xpath>Defs/ThingDef[defName="VWE_Gun_ChargeSniperRifle_Unique"]</xpath>
                <value>
                  <li Class="VFED.ContrabandExtension">
                    <intelCost>4</intelCost>
                    <useCriticalIntel>true</useCriticalIntel>
                    <!-- We inherit the defModExtension from the parent def, so we set a higher priority here to override the base one. -->
                    <priority>100</priority>
                  </li>
                </value>
              </li>
              <li Class="PatchOperationAddModExtension">
                <xpath>Defs/ThingDef[defName="VWE_Gun_ChargeMinigun_Unique"]</xpath>
                <value>
                  <li Class="VFED.ContrabandExtension">
                    <intelCost>4</intelCost>
                    <useCriticalIntel>true</useCriticalIntel>
                    <!-- We inherit the defModExtension from the parent def, so we set a higher priority here to override the base one. -->
                    <priority>100</priority>
                  </li>
                </value>
              </li>
            </operations>
          </match>
        </li>
			</operations>
		</match>
	</Operation>
</Patch>